<div id="ranking" ng-controller="ranking">
    <!-- <app-header close="close()" title="详情"></app-header> -->
    <div class="padd-cont">
        <div class="look-detail-btn">
            <a class="link" ui-sref="vote({id:{{id}}})">
                <i class="icon"></i>
                <span>点击查看活动说明及奖励</span>
            </a>
        </div>
        <div class="search-btn">
            <div class="ipt">
                <i class="icon"></i>
                <input type="text" ng-model="keywords" placeholder="请输入选手的姓名或编号">
            </div>
            <div class="btn">
                <button type="button" ng-click="search()">搜索</button>
            </div>
        </div>
        <ul class="player-list">
            <li ng-repeat="item in list">
                <div class="inner">
                    <a class="pic" ui-sref="player({id:{{item.id}}})">
                        <img ng-src="{{item.photos[0]}}" alt="">
                    </a>
                    <p class="p1">{{item.name}}  编号:{{item.seriaNumber}}</p>
                    <p class="p2">
                        <span>票数</span>
                        <strong>{{item.votes}}</strong>
                        <span>名次</span>
                        <strong>{{item.ranking}}</strong>
                    </p>
                    <!-- //canVote 0 不能投 1可以投 2已投 -->
                    <button ng-if="item.canVote==2" class="give" type="button">投票成功</button>
                    <button ng-if="item.canVote==1" class="notgive" type="button" ng-click="vote(item)">投一票</button>
                    <button ng-if="item.canVote==0" disabled="disabled" type="button">投一票</button>
                </div>
            </li>
        </ul>
        <p class="load-more" ng-show="!loading && hasMore" ng-click="getList()">
            加载更多...
        </p>
        <p class="load-more" ng-show="!loading && !hasMore">
            已加载完所有
        </p>
        <p class="load-more" ng-show="loading">
            加载中...
        </p>
    </div>
</div>
